!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t){e.exports=require("ink")},function(e,t){e.exports=require("sequelize")},function(e,t){e.exports=require("ink-tab")},function(e,t){e.exports=require("ink-divider")},function(e,t){e.exports=require("ink-select-input")},function(e){e.exports={DB:{name:"rouboworks",username:"root",password:"junjian11"}}},function(e,t){e.exports=require("meow")},function(e,t){e.exports=require("ink-box")},function(e,t){e.exports=require("ink-text-input")},function(e,t){e.exports=require("import-jsx")},function(e,t,i){"use strict";i.r(t);i(9);var s=i(0),n=i(6),a=i.n(n),l=i(2),o=i(3),r=i.n(o),c=i(4),u=i.n(c),d=i(7),h=i.n(d),m=i(1),b=i.n(m),p=i(5);var g=new b.a(p.DB.name,p.DB.username,p.DB.password,{dialect:"mysql",logging:!1,operatorsAliases:!1});class v{constructor(){this.getOneList=((e,t)=>{let i=[];this.connect.findAll({where:{value:e}}).then(e=>{if(e)for(let t in e)i.push(e[t].dataValues);t.success(i)}).catch(e=>{t.fail(e)})}),this.addOneSimpleItem=((e,t,i)=>{let s=new Date;this.connect.create({label:e,value:t,update_time:s.toLocaleDateString(),jump_url:"",comment_last:"",comment_list:""}).then(e=>{i.success(e)}).catch(e=>{i.fail(e)})}),this.changeType=((e,t,i)=>{let s=new Date;this.connect.update({value:t,update_time:s.toLocaleDateString()},{where:{label:e}}).then(e=>{i.success(e)}).catch(e=>{i.fail(e)})}),this.editName=((e,t,i)=>{let s=new Date;this.connect.update({label:t,update_time:s.toLocaleDateString()},{where:{label:e}}).then(e=>{i.success(e)}).catch(e=>{i.fail(e)})}),this.deleteItem=((e,t)=>{this.connect.destroy({where:{label:e}}).then(e=>{t.success(e)})}),this.getCommontList=((e,t)=>{this.connect.findOne({where:{label:e}}).then(e=>{t.success(e.dataValues.comment_list)})}),this.addCommont=((e,t,i)=>{this.connect.update({comment_list:t},{where:{label:e}}).then(e=>{i.success(e)})}),this.connect=g.define("todo",{label:{type:b.a.STRING},value:{type:b.a.STRING},update_time:{type:b.a.DATE},jump_url:{type:b.a.STRING},comment_last:{type:b.a.TEXT("long")},comment_list:{type:b.a.TEXT("long")}},{freezeTableName:!0,timestamps:!1}),this.connect.sync({force:!1}).catch(e=>console.warn(e))}}var S=i(8),f=i.n(S);const O=a()("\n\tUsage\n\t  $ rouboworks [input]\n\n\tOptions\n\t  --name  Lorem ipsum [Default: false]\n\n\tExamples\n\t  $ rouboworks\n\t  I love Ink\n\t  $ rouboworks --name=ponies\n\t  I love ponies\n");Object(s.render)(Object(s.h)(class extends s.Component{constructor(e){super(e),this._updateList=(()=>{let e=new v;e.getOneList("todo",{success:e=>{e?Array.isArray(e)?this.setState({todolist:e.concat({label:"新增一个todo",value:"add"})}):this.setState({todolist:[].concat(e).concat({label:"新增一个todo",value:"add"})}):this.setState({todolist:[{label:"新增一个todo",value:"add"}]})},fail:e=>{console.warn(e)}}),e.getOneList("doing",{success:e=>{e&&(Array.isArray(e)?this.setState({doinglist:e}):this.setState({doinglist:[].concat(e)}))}}),e.getOneList("done",{success:e=>{e&&(Array.isArray(e)?this.setState({donelist:e}):this.setState({donelist:[].concat(e)}))}}),e.getOneList("release",{success:e=>{e&&(Array.isArray(e)?this.setState({releaselist:e}):this.setState({releaselist:[].concat(e)}))}})}),this._updateCommonList=(()=>{(new v).getCommontList(this.state.activeItemName,{success:e=>{this.setState({activeCommlist:e})}})}),this._onChangeTab=((e,t)=>{this.setState({activeTabName:e})}),this._onSelected=(e=>{"todo"===this.state.activeTabName&&"add"===e.value?this.setState({isInputing:!0}):this.setState({activeItemName:e.label,isSelecting:!0})}),this._renderTable=(()=>{if(this.state.isInputing||this.state.isSelecting||this.state.showDetail)return null;let e=null;switch(this.state.activeTabName){case"todo":e=this.state.todolist;break;case"doing":e=this.state.doinglist;break;case"done":e=this.state.donelist;break;case"release":e=this.state.releaselist;break;default:e=null}return e?Object(s.h)("div",null,Object(s.h)(u.a,{items:e,onSelect:this._onSelected}),Object(s.h)("br",null),Object(s.h)(r.a,{width:100,padding:0,dividerChar:"-",dividerColor:"green"})):Object(s.h)(s.Color,{red:!0},"暂无数据")}),this._onSelectDetailItem=(e=>{1===e.value?this.setState({isInputing:!0,isAddCommond:!0}):this.setState({showDetail:!1})}),this._renderDetail=(()=>this.state.showDetail?Object(s.h)("div",null,Object(s.h)(h.a,{borderStyle:"round",borderColor:"cyan",float:"left",padding:1},this.state.activeCommlist),Object(s.h)("br",null),Object(s.h)(u.a,{items:[{label:"新增一个备注",value:1},{label:"返回",value:2}],onSelect:this._onSelectDetailItem}),Object(s.h)("br",null),Object(s.h)(r.a,{width:100,padding:0,dividerChar:"-",dividerColor:"green"})):null),this._onInputChange=(e=>{this.setState({inputText:e})}),this._onInputSubmit=(e=>{let t=new v,i="";this.state.isEditing?t.editName(this.state.activeItemName,e,{success:e=>{this._updateList()}}):this.state.isAddCommond?(i=this.state.activeCommlist?this.state.activeCommlist+"\n"+e:e,t.addCommont(this.state.activeItemName,i,{success:e=>{this._updateCommonList()}})):t.addOneSimpleItem(e,"todo",{success:e=>{this._updateList()}}),this.setState({isInputing:!1,isEditing:!1,isAddCommond:!1})}),this._renderInput=(()=>this.state.isInputing?Object(s.h)("div",null,"Input 》》",Object(s.h)(f.a,{value:this.state.inputText,onChange:this._onInputChange,onSubmit:this._onInputSubmit}),Object(s.h)("br",null),Object(s.h)(r.a,{width:100,padding:0,dividerChar:"-",dividerColor:"green"})):null),this._onSelectSelectItem=(e=>{let t=new v;switch(e.label){case"开始":t.changeType(this.state.activeItemName,"doing",{success:e=>{this._updateList(),this.setState({isSelecting:!1})}});break;case"完成":t.changeType(this.state.activeItemName,"done",{success:e=>{this._updateList(),this.setState({isSelecting:!1})}});break;case"删除":t.deleteItem(this.state.activeItemName,{success:e=>{this._updateList(),this.setState({isSelecting:!1})}});break;case"修改":this.setState({isInputing:!0,isEditing:!0});break;case"查看备注":this._updateCommonList(),this.setState({showDetail:!0,isSelecting:!1});break;case"返回":this.setState({isSelecting:!1})}}),this._renderSelect=(()=>{let e=[{label:"todo"===this.state.activeTabName?"开始":"完成",value:"1"},{label:"删除",value:"2"},{label:"修改",value:"3"},{label:"查看备注",value:"4"},{label:"返回",value:"5"}];return this.state.isSelecting?Object(s.h)("div",null,Object(s.h)(u.a,{items:e,onSelect:this._onSelectSelectItem})):null}),this.state={activeTabName:null,activeItemName:null,selectedlist:null,todolist:null,doinglist:null,donelist:null,releaselist:null,inputText:"",isInputing:!1,isSelecting:!1,isEditing:!1,isAddCommond:!1,showDetail:!1,activeCommlist:null}}componentDidMount(){this._updateList()}render(){return Object(s.h)("div",null,Object(s.h)(r.a,{width:100,padding:0,dividerChar:"-",dividerColor:"green"}),Object(s.h)(l.Tabs,{onChange:this._onChangeTab},Object(s.h)(l.Tab,{name:"todo"},"todo"),Object(s.h)(l.Tab,{name:"doing"},"doing"),Object(s.h)(l.Tab,{name:"done"},"done"),Object(s.h)(l.Tab,{name:"release"},"release")),Object(s.h)("br",null),Object(s.h)(r.a,{width:100,padding:0,dividerChar:"-",dividerColor:"green"}),Object(s.h)("div",null,this._renderTable()),Object(s.h)("div",null,this._renderDetail()),Object(s.h)("div",null,this._renderSelect()),Object(s.h)("div",null,this._renderInput()))}},O.flags))}]);